# Incident: 2025-11-28 18-23-24

## Summary

Between the hour of 18:23 UTC and 18:28 UTC on 11-28-2025, users encountered errors in pizza creation. The event was triggered by initiating chaos at approximately 02:21 UTC on the same day.

Shutting down the pizza creation from the factory for chaos testing caused pizza creation failures. The event was detected by Grafana. The team started working on the event by acknowledging the event on Grafana and examining the metrics and logs to determine what had occurred. This critical incident affected all users who attempted to purchase a pizza during this time (the maximum number of authenticated users during this time was one user).

## Detection

This incident was detected when the Pizza Creation Failures was triggered and the JWT Pizza DevOps team was paged.

The Pizza Creation Failures alert moves to a pending state whenever there are any failures in pizza creation. If the failures persist after one minute, then the alert moves to an alerting state and the JWT Pizza DevOps team is paged.

In order to respond more quickly, the time between the pending and alerting states of the alert could be shortened, perhaps to 30 seconds instead of 1 minute.

## Impact

For 5 minutes between 18:23 UTC and 18:28 UTC on 11-28-2025 our users experienced this incident.

This incident affected 1 customer (100% of system users), who experienced failures in pizza creation.

No support tickets were raised.

## Timeline

All times are UTC.

- _02:21_ - Chaos is initiated on the Pizza Factory vendor portal.
- _18:23_ - Chaos attack begins and users start experiencing pizza creation failures. Grafana Pizza Creation Failures alert rule set to pending.
- _18:24_ - Grafana Pizza Creation Failures alert rule set to alerting and alert group registered in Grafana. JWT Pizza DevOps engineers contacted by mobile push notification and mobile SMS notification.
- _18:25_ - Alert group acknowledged by Merica Rowley and investigation of Grafana metrics and logs begins.
- _18:27_ - Link to end chaos located in Grafana Logs and followed to end chaos, fixing the state of the application and ensuring pizza creation is successful once again.
- _18:28_ - Incident marked as resolved by Merica Rowley.

## Response and Resolution

After receiving a page at 18:24 UTC, Merica Rowley came online at 18:25 UTC in Grafana.

To examine the cause of the problem, she navigated to the JWT Pizza Dashboard in Grafana, noted the pizza creation failures beginning at 18:23 UTC, and began searching the logs to look for anomalies there.

The following response body was located in the logs for an attempted (and failed) pizza order:

```json
{
  "message": "Failed to fulfill order at factory",
  "followLinkToEndChaos": "https://pizza-factory.cs329.click/api/support/fd4fa02de78e43da855df43e2c073e34/report/r7jwuil6"
}
```

The link was followed, and the following message was displayed:

```json
{
  "message": "Problem resolved. Pizza is back on the menu!"
}
```

Thus, chaos was ended, and the site's activity resumed as normal.

## Root Cause

The root cause of this outage was a chaos monkey, which turned off the ability of the vendor to create pizzas at the pizza factory.

## Prevention

Install monkey proof controls at the pizza creation factory. :)

## Action Items

1. Shorten the time when the Pizza Creation Failures alert moves from a pending to an alerting stateâ€”if there are any failures in creating a pizza, we want to know about it as soon as possible.
2. Create an alert rule to capture any logs containing the phrase "chaos."
